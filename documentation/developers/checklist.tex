\chapter{Distribution checklist} 

\section{Building Phycas for Ubuntu 10.04}

\begin{enumerate}
\item Prepare operating system for building phycas
\begin{verbatim}
sudo apt-get install g++
sudo apt-get install python-dev
sudo apt-get install autoconf
sudo apt-get install subversion
\end{verbatim}
%
\item Download and build NCL
\begin{verbatim}
cd $HOME
mkdir ndev
svn co https://ncl.svn.sourceforge.net/svnroot/ncl ndev
cd ndev/branches/v2.1
./bootstrap
./configure
make
sudo make install
\end{verbatim}
%
\item Download \pathname{boost\_1\_42\_0.tar.gz} from \url{http://www.boost.org/}
\begin{verbatim}
cd $HOME
tar zxvf boost_1_42_0.tar.gz
\end{verbatim}
%
\item Build bjam executable (the following should create a new directory \pathname{\$HOME/boost\_1\_42\_0/tools/jam/src/bin.linuxx86} containing the bjam executable):
\begin{verbatim}
cd $HOME/boost_1_42_0/tools/jam/src
./build.sh
\end{verbatim}
%
\item Download and build phycas
\begin{verbatim}
cd $HOME
mkdir pdev
svn co https://phycas.svn.sourceforge.net/svnroot/phycas pdev
cd pdev/trunk
\end{verbatim}
%
\item Create file \pathname{\$HOME/pdev/trunk/go.sh} to contain the following text:
\begin{verbatim}
#!/bin/bash

export OSTYPE="linux"
export BOOST_ROOT="$HOME/boost_1_42_0"
export PATH="${PATH}:$BOOST_ROOT/tools/jam/src/bin.linuxx86"
export BOOST_BUILD_PATH="${BOOST_ROOT}/tools/build/v2"
export PHYCAS_ROOT="$HOME/pdev/trunk"
export NCL_INSTALL_DIR="/usr/local"
export NCL_ALREADY_INSTALLED="true"
bjam release
\end{verbatim}
%
\item Make \pathname{\$HOME/pdev/trunk/go.sh} executable and build phycas
\begin{verbatim}
cd $HOME/pdev/trunk
chmod +x go.sh
./go.sh
\end{verbatim}
%
\item Prepare libraries for dynamic loading
\begin{verbatim}
/sbin/ldconfig $HOME/pdev/trunk/phycas/Conversions /usr/local/lib/ncl
\end{verbatim}
%
\item Create tar file of phycas distribution:
\begin{verbatim}
cd $HOME/pdev/trunk
python build_phycas_tarball.py
\end{verbatim}
%
\item Locate the python dist-packages directory:
\begin{verbatim}
python -c "from distutils.sysconfig import get_python_lib; print get_python_lib()"
\end{verbatim}
%
\item Assuming previous step revealed that the python dist-packages directory is \pathname{/usr/lib/python2.6/dist-packages}, move the tar file there and unpack:
\begin{verbatim}
sudo cp $HOME/pdev/trunk/phycas_distr.tar /usr/lib/python2.6/dist-packages
cd /usr/lib/python2.6/dist-packages
sudo tar xvf phycas_distr.tar
sudo rm phycas_distr.tar
\end{verbatim}
%
\item See if phycas can be loaded into python:
\begin{verbatim}
python
>>> from phycas import *
\end{verbatim}
\end{enumerate}
